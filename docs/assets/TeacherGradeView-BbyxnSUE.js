import{a as e,r as a}from"./grade-8FnJmmJr.js";import{d as t,h as d,r,o as s,w as l,bC as i,bI as n,bv as o,z as u,bB as c,V as p,bN as m,bF as y,bD as h,u as v,a2 as g,bO as _,F as f}from"./vendor-CKpYW6Oo.js";import{_ as k}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./request-Be5djaOi.js";const I={style:{padding:"8px"}},w={key:0},x={key:1},G=["onClick"],C=["onClick"],b=k(t({__name:"TeacherGradeView",setup(t){const k=d(""),b=d(),S=r({searchText:"",searchedColumn:""}),T=(e,a,t)=>{a(),S.searchText=e[0],S.searchedColumn=t},F=d([{gradeId:0,gradeStatus:""}]);async function j(a){const t=await e(a);E.value=t.data,E.value.map(((e,a)=>{e.key=String(a+1)}))}async function D(e,t){F.value[0].gradeId=e.gradeId,F.value[0].gradeStatus=t?"已批准":"已拒绝",await a(F.value),await j(k.value)}const z=[{title:"编号",dataIndex:"gradeId",key:"gradeId",width:"5%"},{title:"学生名",dataIndex:"name",key:"name",width:"12%",customFilterDropdown:!0,onFilter:(e,a)=>a.name.toString().toLowerCase().includes(e.toString().toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout((()=>{b.value.focus()}),100)}},{title:"学号",dataIndex:"studentId",key:"studentId",width:"10%"},{title:"论文主题",dataIndex:"topicTitle",key:"topicTitle",width:"18%"},{title:"指导老师",dataIndex:"supervisor",key:"supervisor",width:"7%"},{title:"中期成绩",key:"midtertmGrade",dataIndex:"midtertmGrade",width:"7%"},{title:"论文成绩",key:"thesisGrade",dataIndex:"thesisGrade",width:"7%"},{title:"答辩成绩",key:"defenseGrade",dataIndex:"defenseGrade",width:"7%"},{title:"最终成绩",key:"finalGrade",dataIndex:"finalGrade",width:"7%"},{title:"成绩状态",key:"gradeStatus",dataIndex:"gradeStatus",width:"7%"},{title:"操作",key:"action",width:"12%"}],E=d([{key:"1",gradeId:1,studentId:20230001,name:"张三",topicTitle:"人工智能在教育领域的应用研究",supervisor:"李老师",midtertmGrade:85,thesisGrade:88,defenseGrade:90,finalGrade:87,gradeStatus:"通过"},{key:"2",gradeId:2,studentId:20230002,name:"李四",topicTitle:"大数据驱动的市场营销策略分析",supervisor:"王老师",midtertmGrade:78,thesisGrade:82,defenseGrade:80,finalGrade:80,gradeStatus:"通过"},{key:"3",gradeId:3,studentId:20230003,name:"王五",topicTitle:"区块链技术在金融领域的应用",supervisor:"赵老师",midtertmGrade:65,thesisGrade:70,defenseGrade:68,finalGrade:67,gradeStatus:"通过"}]);return s((async()=>{j(k.value)})),l(k,(async e=>{j(e)})),(e,a)=>{const t=i("a-typography-title"),d=i("a-typography-paragraph"),r=i("a-radio-button"),s=i("a-radio-group"),l=i("a-input"),F=i("a-button"),j=i("a-divider"),K=i("a-table");return o(),n(f,null,[u(t,{level:3},{default:c((()=>a[1]||(a[1]=[p("毕业论文审核")]))),_:1,__:[1]}),u(d,null,{default:c((()=>a[2]||(a[2]=[p(" 使用表格快速查看、修改学生的成绩 ")]))),_:1,__:[2]}),u(s,{value:k.value,"onUpdate:value":a[0]||(a[0]=e=>k.value=e)},{default:c((()=>[u(r,{value:""},{default:c((()=>a[3]||(a[3]=[p("全部")]))),_:1,__:[3]}),u(r,{value:"待审批"},{default:c((()=>a[4]||(a[4]=[p("待审批")]))),_:1,__:[4]}),u(r,{value:"已批准"},{default:c((()=>a[5]||(a[5]=[p("已批准")]))),_:1,__:[5]}),u(r,{value:"已拒绝"},{default:c((()=>a[6]||(a[6]=[p("已拒绝")]))),_:1,__:[6]})])),_:1},8,["value"]),u(K,{columns:z,"data-source":E.value},{customFilterDropdown:c((({setSelectedKeys:e,selectedKeys:t,confirm:d,clearFilters:r,column:s})=>[h("div",I,[u(l,{ref_key:"searchInput",ref:b,placeholder:"搜索学生姓名",value:t[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:a=>e(a.target.value?[a.target.value]:[]),onPressEnter:e=>T(t,d,s.dataIndex)},null,8,["value","onChange","onPressEnter"]),u(F,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:e=>T(t,d,s.dataIndex)},{icon:c((()=>[u(v(g))])),default:c((()=>[a[7]||(a[7]=p(" 搜索 "))])),_:2,__:[7]},1032,["onClick"]),u(F,{size:"small",style:{width:"90px"},onClick:e=>(e=>{e({confirm:!0}),S.searchText=""})(r)},{default:c((()=>a[8]||(a[8]=[p(" 重置 ")]))),_:2,__:[8]},1032,["onClick"])])])),customFilterIcon:c((({filtered:e})=>[u(v(g),{style:_({color:e?"#108ee9":void 0})},null,8,["style"])])),bodyCell:c((({column:e,record:a})=>["name"===e.key?(o(),n("a",w,y(a.name),1)):"action"===e.key?(o(),n("span",x,[h("a",{onClick:e=>D(a,!0)},"通过",8,G),u(j,{type:"vertical"}),h("a",{onClick:e=>D(a,!1)},"驳回",8,C)])):m("",!0)])),_:1},8,["data-source"])],64)}}}),[["__scopeId","data-v-86d91b6b"]]);export{b as default};
